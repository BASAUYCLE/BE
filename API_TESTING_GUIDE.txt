=============================================================
           H∆Ø·ªöNG D·∫™N TEST API AUTHORIZATION
=============================================================

üìã Y√äU C·∫¶U:
- Server ƒëang ch·∫°y: http://localhost:8080
- Tool test: Postman, Bruno, ho·∫∑c cURL
- C√≥ s·∫µn t√†i kho·∫£n MEMBER v√† ADMIN trong database

=============================================================
B∆Ø·ªöC 1: L·∫§Y TOKEN ƒêƒÇNG NH·∫¨P
=============================================================

LOGIN V·ªöI T√ÄI KHO·∫¢N:
POST http://localhost:8080/auth/login
Content-Type: application/json
Body:
{
    "email": "your_email@example.com",
    "password": "your_password"
}

‚Üí L∆∞u l·∫°i token trong response ƒë·ªÉ d√πng cho c√°c request ti·∫øp theo


=============================================================
B∆Ø·ªöC 2: TEST C√ÅC ENDPOINT
=============================================================

L∆ØU √ù: Th√™m Header cho m·ªçi request c·∫ßn x√°c th·ª±c:
Authorization: Bearer <token_c·ªßa_b·∫°n>


-------------------------------------------------------------
TEST 1: GET /users/myinfo (T·∫§T C·∫¢ ROLES)
-------------------------------------------------------------
GET http://localhost:8080/users/myinfo
Headers:
  Authorization: Bearer <TOKEN>

Expected: ‚úÖ 200 OK (MEMBER/ADMIN ƒë·ªÅu ƒë∆∞·ª£c)


-------------------------------------------------------------
TEST 2: PUT /users/myinfo (T·ª∞ S·ª¨A PROFILE)
-------------------------------------------------------------
PUT http://localhost:8080/users/myinfo
Headers:
  Authorization: Bearer <TOKEN>
  Content-Type: application/json
Body:
{
    "fullName": "T√™n m·ªõi",
    "phoneNumber": "0987654321"
}

Expected: ‚úÖ 200 OK (MEMBER/ADMIN ƒë·ªÅu ƒë∆∞·ª£c)


-------------------------------------------------------------
TEST 3: GET /users (CH·ªà ADMIN)
-------------------------------------------------------------
GET http://localhost:8080/users
Headers:
  Authorization: Bearer <TOKEN>

Expected:
  - MEMBER token: ‚ùå 403 Forbidden
  - ADMIN token:  ‚úÖ 200 OK


-------------------------------------------------------------
TEST 4: GET /users/{userId} (CH·ªà ADMIN)
-------------------------------------------------------------
GET http://localhost:8080/users/1
Headers:
  Authorization: Bearer <TOKEN>

Expected:
  - MEMBER token: ‚ùå 403 Forbidden
  - ADMIN token:  ‚úÖ 200 OK


-------------------------------------------------------------
TEST 5: PUT /users/{userId} (ADMIN S·ª¨A USER KH√ÅC)
-------------------------------------------------------------
PUT http://localhost:8080/users/1
Headers:
  Authorization: Bearer <TOKEN>
  Content-Type: application/json
Body:
{
    "fullName": "T√™n b·∫•t k·ª≥"
}

Expected:
  - MEMBER token: ‚ùå 403 Forbidden
  - ADMIN token:  ‚úÖ 200 OK


-------------------------------------------------------------
TEST 6: DELETE /users/{userId} (CH·ªà ADMIN)
-------------------------------------------------------------
DELETE http://localhost:8080/users/5
Headers:
  Authorization: Bearer <TOKEN>

Expected:
  - MEMBER token: ‚ùå 403 Forbidden
  - ADMIN token:  ‚úÖ 200 OK


-------------------------------------------------------------
TEST 7: KH√îNG C√ì TOKEN
-------------------------------------------------------------
GET http://localhost:8080/users/myinfo
(Kh√¥ng c√≥ Authorization header)

Expected: ‚ùå 401 Unauthorized


=============================================================
B·∫¢NG T√ìM T·∫ÆT
=============================================================

| Endpoint              | Method | No Token | MEMBER | ADMIN |
|-----------------------|--------|----------|--------|-------|
| /auth/login           | POST   | ‚úÖ 200   | ‚úÖ 200 | ‚úÖ 200|
| /auth/register        | POST   | ‚úÖ 200   | ‚úÖ 200 | ‚úÖ 200|
| /users/myinfo         | GET    | ‚ùå 401   | ‚úÖ 200 | ‚úÖ 200|
| /users/myinfo         | PUT    | ‚ùå 401   | ‚úÖ 200 | ‚úÖ 200|
| /users                | GET    | ‚ùå 401   | ‚ùå 403 | ‚úÖ 200|
| /users/{id}           | GET    | ‚ùå 401   | ‚ùå 403 | ‚úÖ 200|
| /users/{id}           | PUT    | ‚ùå 401   | ‚ùå 403 | ‚úÖ 200|
| /users/{id}           | DELETE | ‚ùå 401   | ‚ùå 403 | ‚úÖ 200|
| /api/upload/image     | POST   | ‚ùå 401   | ‚úÖ 200 | ‚úÖ 200|

=============================================================
